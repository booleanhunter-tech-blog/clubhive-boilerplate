--
-- PostgreSQL database dump
--

-- Dumped from database version 13.3 (Debian 13.3-1.pgdg100+1)
-- Dumped by pg_dump version 13.3 (Debian 13.3-1.pgdg100+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: clubs; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.clubs (
    id bigint NOT NULL,
    founder_id bigint NOT NULL,
    name character varying(100) NOT NULL,
    topic_id bigint NOT NULL,
    date timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


--
-- Name: clubs_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.clubs ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.clubs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: followers; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.followers (
    club_id bigint NOT NULL,
    user_id bigint NOT NULL
);


--
-- Name: participants; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.participants (
    room_id bigint NOT NULL,
    user_id bigint NOT NULL,
    role character varying(10) DEFAULT 'AUDIENCE'::character varying NOT NULL,
    join_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    peer_id character varying(50),
    CONSTRAINT participants_role_check CHECK (((role)::text = ANY ((ARRAY['HOST'::character varying, 'MODERATOR'::character varying, 'SPEAKER'::character varying, 'AUDIENCE'::character varying])::text[])))
);


--
-- Name: rooms; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.rooms (
    id bigint NOT NULL,
    name character varying(100) NOT NULL,
    club_id bigint,
    date timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


--
-- Name: rooms_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.rooms ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.rooms_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: topics; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.topics (
    id bigint NOT NULL,
    name character varying(100) NOT NULL,
    description character varying(500)
);


--
-- Name: topics_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.topics ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.topics_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.users (
    id bigint NOT NULL,
    username character varying(50) NOT NULL,
    email character varying(50) NOT NULL,
    name character varying(100),
    bio character varying(350),
    join_date timestamp without time zone DEFAULT CURRENT_TIMESTAMP
);


--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

ALTER TABLE public.users ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: clubs; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.clubs (id, founder_id, name, topic_id, date) FROM stdin;
1	6	Fit as a Fiddle	1	2021-07-09 07:26:06.84077
2	7	The Council of Ricks	2	2021-07-09 07:26:06.842407
3	8	World Governments	3	2021-07-09 07:26:06.84382
4	9	Video Games	4	2021-07-09 07:26:06.84504
5	10	Hail our AI Overlords	5	2021-07-09 07:26:06.846581
\.


--
-- Data for Name: followers; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.followers (club_id, user_id) FROM stdin;
1	1
2	1
3	1
4	1
5	1
1	2
2	2
5	2
1	3
2	3
3	3
4	3
5	3
3	4
5	4
3	5
4	5
5	5
1	6
3	6
4	6
2	7
3	7
5	7
1	8
3	8
5	8
1	9
3	9
4	9
1	10
3	10
5	10
\.


--
-- Data for Name: participants; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.participants (room_id, user_id, role, join_date, peer_id) FROM stdin;
1	6	HOST	2021-07-09 07:26:06.904038	\N
2	6	HOST	2021-07-09 07:26:06.905698	\N
3	7	HOST	2021-07-09 07:26:06.906986	\N
4	7	HOST	2021-07-09 07:26:06.908192	\N
5	8	HOST	2021-07-09 07:26:06.909451	\N
6	8	HOST	2021-07-09 07:26:06.910773	\N
7	9	HOST	2021-07-09 07:26:06.912065	\N
8	9	HOST	2021-07-09 07:26:06.913401	\N
9	10	HOST	2021-07-09 07:26:06.914835	\N
11	1	HOST	2021-07-09 07:26:06.918279	\N
12	3	HOST	2021-07-09 07:26:08.181128	\N
10	10	HOST	2021-07-10 14:43:42.240642	\N
\.


--
-- Data for Name: rooms; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.rooms (id, name, club_id, date) FROM stdin;
1	Achieving the impossible	1	2021-07-09 07:26:06.848047
3	Sometimes science is more art than science.	2	2021-07-09 07:26:06.849476
5	Asgard vs Wakanda	3	2021-07-09 07:26:06.851825
7	Are video games bad for you?	4	2021-07-09 07:26:06.853126
9	How to de-activate a robot	5	2021-07-09 07:26:06.854274
11	Github Copilot - Good or Bad?	5	2021-07-09 07:26:06.855514
2	Strength Training for MMA	1	2021-07-09 07:26:06.856873
4	Love is just a chemical reaction	2	2021-07-09 07:26:06.858273
6	Democracy in India - Success or Failure?	3	2021-07-09 07:26:06.859928
8	Far Cry 6 - reviews	4	2021-07-09 07:26:06.861014
10	The Industries of the future	5	2021-07-09 07:26:06.862296
12	What club shall we create	\N	2021-07-09 07:26:06.863618
\.


--
-- Data for Name: topics; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.topics (id, name, description) FROM stdin;
1	Health	\N
2	Science	\N
3	Geopolitics	\N
4	Entertainment	\N
5	Technology	\N
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: -
--

COPY public.users (id, username, email, name, bio, join_date) FROM stdin;
1	ashwin	ashwin01h@gmail.com	Ashwin Hariharan	Software Engineer | Tech Blogger | Startups, Tech, AI, Design, DevRel	2021-07-09 07:26:06.821885
2	purnima	dhammapurnima@gmail.com	Purnima Gupta	Web Dev Diva. I've mastered the seflie - now on a journey to master thy self.	2021-07-09 07:26:06.824718
3	raghu	rpotini@egen.solutions	Raghu Potini	Founder at Egen	2021-07-09 07:26:06.826486
4	kavita	kavita.mistry@egen.solutions	Kavita Mistry	Lead generation specialist at Egen	2021-07-09 07:26:06.828381
5	elon	elonmuskoffice@teslamotors.com	Elon Musk	Founder at Tesla and SpaceX. I would like to die on Mars. Just not on impact.	2021-07-09 07:26:06.830712
6	john	johnwick@continental.com	John Wick	Baba Yaga. Excommunicado. Former member of The High Table	2021-07-09 07:26:06.832664
7	rick	ricksanchez@c-137.earth	Rick Sanchez	Scientist. Existential Nihilist. To live is to risk it all; otherwise you're just an inert chunk of randomly assembled molecules drifting wherever the universe blows you	2021-07-09 07:26:06.834852
8	loki	loki@marvel.com	Loki Laufeyson	God of Mischief. Enjoys torturing my brother	2021-07-09 07:26:06.836412
9	cj	carljohnson@gtasanandreas.com	Carl Johnson	Lives in Los Santos. Frequently gets into car chases.	2021-07-09 07:26:06.838017
10	sarah	sarahconnor@destroyskynet.com	Sarah Connor	Time Traveller. Terminator of terminators.	2021-07-09 07:26:06.839597
\.


--
-- Name: clubs_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.clubs_id_seq', 1, false);


--
-- Name: rooms_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.rooms_id_seq', 1, false);


--
-- Name: topics_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.topics_id_seq', 1, false);


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.users_id_seq', 1, false);


--
-- Name: clubs clubs_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.clubs
    ADD CONSTRAINT clubs_pkey PRIMARY KEY (id);


--
-- Name: followers followers_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.followers
    ADD CONSTRAINT followers_pkey PRIMARY KEY (club_id, user_id);


--
-- Name: participants participants_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT participants_pkey PRIMARY KEY (room_id, user_id);


--
-- Name: rooms rooms_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rooms
    ADD CONSTRAINT rooms_pkey PRIMARY KEY (id);


--
-- Name: topics topics_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.topics
    ADD CONSTRAINT topics_pkey PRIMARY KEY (id);


--
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- Name: clubs clubs_founder_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.clubs
    ADD CONSTRAINT clubs_founder_id_fkey FOREIGN KEY (founder_id) REFERENCES public.users(id);


--
-- Name: clubs clubs_topic_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.clubs
    ADD CONSTRAINT clubs_topic_id_fkey FOREIGN KEY (topic_id) REFERENCES public.topics(id);


--
-- Name: followers followers_club_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.followers
    ADD CONSTRAINT followers_club_id_fkey FOREIGN KEY (club_id) REFERENCES public.clubs(id);


--
-- Name: followers followers_club_id_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.followers
    ADD CONSTRAINT followers_club_id_fkey1 FOREIGN KEY (club_id) REFERENCES public.clubs(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: followers followers_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.followers
    ADD CONSTRAINT followers_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: followers followers_user_id_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.followers
    ADD CONSTRAINT followers_user_id_fkey1 FOREIGN KEY (user_id) REFERENCES public.users(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: participants participants_room_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT participants_room_id_fkey FOREIGN KEY (room_id) REFERENCES public.rooms(id);


--
-- Name: participants participants_room_id_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT participants_room_id_fkey1 FOREIGN KEY (room_id) REFERENCES public.rooms(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: participants participants_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT participants_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- Name: participants participants_user_id_fkey1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.participants
    ADD CONSTRAINT participants_user_id_fkey1 FOREIGN KEY (user_id) REFERENCES public.users(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: rooms rooms_club_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rooms
    ADD CONSTRAINT rooms_club_id_fkey FOREIGN KEY (club_id) REFERENCES public.clubs(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

